{"version":3,"file":"src_app_confi_confi_module_ts.js","mappings":"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","sources":["./src/app/confi/confi-routing.module.ts","./src/app/confi/confi.module.ts","./src/app/confi/confi.page.ts"],"sourcesContent":["import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\nimport { ConfiPage } from './confi.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: ConfiPage,\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class ConfiPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { ConfiPageRoutingModule } from './confi-routing.module';\n\nimport { ConfiPage } from './confi.page';\nimport { RouterModule } from '@angular/router';\nimport { HeaderModule } from '../header/header.module';\nimport { TabsModule } from '../tabs/tabs.module';\n\n@NgModule({\n  imports: [\n    IonicModule,\n    CommonModule,\n    FormsModule,\n    RouterModule.forChild([{ path: '', component: ConfiPage }]),\n    ConfiPageRoutingModule,\n    HeaderModule,\n    TabsModule\n  ],\n  declarations: [ConfiPage]\n})\nexport class ConfiPageModule {}\n","import { Component, OnInit } from '@angular/core';\nimport { LocalStorageServiceService } from '../../service/local-storage-service.service';\nimport { GetDataBackendService } from '../../service/get-data-backend.service';\nimport { AlertController, NavController } from '@ionic/angular';\n\n\n@Component({\n  selector: 'app-confi',\n  templateUrl: './confi.page.html',\n  styleUrls: ['./confi.page.scss'],\n})\nexport class ConfiPage implements OnInit {\n  ButtonAtras: boolean = true;\n  ShowModal: boolean = false\n  DatosConfi: any = {}\n  ShowPreguntas: Boolean = false\n  ShowDatosBarbero: Boolean = false\n  ListBarberos: any = []\n  barberoActual: any\n  NameUser: any\n  EmailUser: any\n  ShowPass: Boolean = false\n\n  constructor(\n    private _localstorage: LocalStorageServiceService,\n    private _GetData: GetDataBackendService,\n    public navCtrl: NavController,\n    private alertController: AlertController\n  ) { }\n\n  ngOnInit() {\n    //asigno los datos del usuario que tengo en el local storage \n    this.DatosConfi = JSON.parse(this._localstorage.BuscarItem('DatosUser'))\n    this.NameUser = this.DatosConfi.Name\n    this.EmailUser = this.DatosConfi.Email\n\n    this.GetListBarber()\n  }\n\n  OptionPass() {\n    //muestro u oculto la clave\n    switch (this.ShowPass) {\n      case true:\n        this.ShowPass = false\n        break;\n\n      case false:\n        this.ShowPass = true\n        break;\n    }\n  }\n\n  ViewModal() {\n    //Veo el modal de los datos del usuario\n    if (this.ShowModal) {\n      this.ShowModal = false\n    } else if (!this.ShowModal) {\n      this.ShowModal = true\n    }\n\n  }\n\n  ViewPreguntas() {\n    //muetra u oculta el modal con las preguntas de seguridad\n    if (this.ShowPreguntas) {\n      this.ShowPreguntas = false\n    } else if (!this.ShowPreguntas) {\n      this.ShowPreguntas = true\n    }\n  }\n\n  ViewDatos() {\n    //muestra u oculta los datos adicionales del barbero \n    if (this.ShowDatosBarbero) {\n      this.ShowDatosBarbero = false\n    } else if (!this.ShowDatosBarbero) {\n      this.ShowDatosBarbero = true\n    }\n  }\n\n  GetListBarber() {\n    //busco la lista de todos los barberos \n    try {\n\n      this._GetData.GetTipoDeUsusarios('Barbero').then((Res: any) => {\n\n        if (Res.length > 0) {\n          //si encontre data se la asigno a mi lista de barberos \n          this.ListBarberos = Res\n\n          if (this.DatosConfi.idBarbero) {\n\n            this.barberoActual = this.ListBarberos.find((Barber: any) => Barber.idUser === this.DatosConfi.idBarbero)\n\n            if (this.barberoActual) {\n              this.DatosConfi.Barbero = this.barberoActual.Name\n            }\n\n          }\n\n        }\n\n      }).catch(error => console.error(error))\n\n    } catch (error) {\n      console.error(error)\n    }\n  }\n\n  // se guarda la actualizacion de datos que hizo el cliente \n  GuardarDatos() {\n\n    // elimino el _id que es un id unico de mongo\n    delete this.DatosConfi._id\n    //eliminio el __V que es un id que nos indica cuantas veces ha sido modificado el archivo\n    delete this.DatosConfi.__v\n    //si cambia de barbero aqui busco los datos del nuevo barbero \n    if (this.DatosConfi.TipoUser === 'Cliente') {\n      const newbarbero = this.ListBarberos.find((Barberos: any) => Barberos.Name === this.DatosConfi.Barbero)\n      this.barberoActual = newbarbero\n      if (newbarbero) {\n        this.DatosConfi.idBarbero = this.barberoActual.idUser\n      }\n    }\n\n    //guardo los datos del update o actualizacion que hizo el cliente\n    this._GetData.UpdateUser(this.DatosConfi).then((ResUpdate: any) => {\n      if (ResUpdate.status === true) {\n        this.ShowAlert(ResUpdate.status)\n        this._localstorage.GuardarItem('DatosUser', JSON.stringify(this.DatosConfi))\n        this.NameUser = this.DatosConfi.Name\n        this.EmailUser = this.DatosConfi.Email\n        if (this.DatosConfi.TipoUser === 'Cliente') {\n          this.DatosConfi.Barbero = this.barberoActual.Name\n        }\n      } else {\n        this.ShowAlert(ResUpdate.status)\n      }\n\n    }).catch(error => console.error(error))\n  }\n\n  //con este metodo cierro la seccion del usuario \n  CerrarSeccion() {\n    this._localstorage.RemoverItems()\n    this.navCtrl.navigateForward(\"/login\");\n  }\n\n  async ShowAlert(status: Boolean) {\n    try {\n\n      const alert = await this.alertController.create({\n        header: 'Sus datos se guardaron con éxito',\n        buttons: ['Aceptar']\n      });\n\n      const alertError = await this.alertController.create({\n        header: '¡Hubo un error al guardar sus datos!',\n        buttons: ['Aceptar']\n      });\n\n      if (status) {\n        await alert.present();\n      } else {\n        await alertError.present();\n      }\n\n    } catch (error) {\n      console.error(error)\n    }\n  }\n\n}\n"],"names":[],"sourceRoot":"webpack:///"}